<!-- FULL UPDATED HTML WITH SITE VISIT POPUP INTEGRATED -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NCR Monarch and Crown — Property</title>
  <link rel="stylesheet" href="style100.css">
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;500;700;800&display=swap" rel="stylesheet">

  <style>
    /* Minimal inline helpers for modal (main modal CSS lives in style100.css) */
    /* keep this tiny block so we don't remove anything else in your head */
    .vis-hidden { position: absolute; width:1px; height:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }
  </style>
</head>
<body>

  <header class="site-header">
    <div class="site-header-inner">
      <div class="logo">Property Hub</div>
      <nav class="main-nav">
        <a href="index.html">Home</a>
        <a href="About51.html">About</a>
        <a href="Properties51.html">Properties</a>
        <a href="Services51.html">Services</a>
        <a href="Contact51.html">Contact</a>
      </nav>
      <button class="quote-btn">Request a Quote</button>
    </div>
  </header>

  <main>

    <section class="hero-card">
      <div class="hero-left">
        <div id="openGalleryBtn" class="preview">
          <img id="previewImage" src="https://www.ncr-monarch.co.in/img/banner-img.jpg">
          <div class="preview-overlay">
            <div class="badges">
              <span class="badge">RERA</span>
              <span class="badge">ZERO BROKERAGE</span>
              <span class="badge">3D</span>
            </div>
            <div class="meta-bottom">
              <span class="status">Ready To Move · Since Jun, 2020</span>
              <span class="count">1 / 12</span>
            </div>
          </div>
        </div>
      </div>

      <div class="hero-right">
        <h1 class="project-title">NCR Monarch and Crown</h1>
        <div class="project-sub">Sector 1 — Greater Noida West</div>

        <div class="top-row">
          <div class="price-range">₹ 92.63 L - 1.72 Cr</div>
          <div class="rating">★ 4.2</div>
        </div>

        <div class="bhk-boxes">
          <div class="bhk-item"><div class="bhk-title">2 BHK Apartment</div><div class="bhk-price">₹92.63 L - 1.72 Cr</div></div>
          <div class="bhk-item"><div class="bhk-title">3 BHK Apartment</div><div class="bhk-price">₹1.21 - 1.6 Cr</div></div>
        </div>

        <p class="short-desc"><b>Why you should consider NCR Monarch and Crown?</b><br>1. Spacious housing<br>2. Connected to Delhi<br>3. Eco friendly<br>4. Price appreciation<br>5. Power backup</p>

        <div class="actions">
          <button id="openGalleryBtn2" class="view-gallery-btn">View Gallery</button>
          <a id="openSiteVisit" class="btn ghost" href="#"> Book Your Site Visit Slot </a>
        </div>
      </div>
    </section>

  </main>


  <!-- ========== SITE VISIT POPUP (REPLACED BROCHURE POPUP) ========== -->
  <div id="siteVisitOverlay" class="site-visit-overlay" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="siteVisitTitle">
    <div class="site-visit-dialog" role="document">
      <button id="closeSiteVisit" class="sv-close" aria-label="Close site visit form">✕</button>

      <div id="siteFormWrap" class="sv-content">
        <h2 id="siteVisitTitle">Book Your Site Visit Slot</h2>
        <p class="sv-sub">Please share a few details and choose a date. Our expert will contact you within 24 hours.</p>

        <form id="siteVisitForm" novalidate>
          <!-- Name -->
          <div class="sv-field">
            <label for="svName">Name</label>
            <input id="svName" name="name" type="text" class="sv-input" autocomplete="name" placeholder="Your full name" />
            <div id="nameError" class="sv-hint">Use Only Alphabet</div>
          </div>

          <!-- Phone with +91 prefix -->
          <div class="sv-field">
            <label for="svPhone">Phone</label>
            <div class="phone-row">
              <span class="phone-prefix">+91</span>
              <input id="svPhone" name="phone" type="tel" class="sv-input phone-input" autocomplete="tel" placeholder="Enter 10 digit number" maxlength="10" />
            </div>
            <div id="phoneError" class="sv-hint">Use Only Numbers</div>
          </div>

          <!-- Email -->
          <div class="sv-field">
            <label for="svEmail">Email</label>
            <input id="svEmail" name="email" type="email" class="sv-input" autocomplete="email" placeholder="you@example.com" />
            <div id="emailError" class="sv-hint">Please Enter an Appropriate Email Address</div>
          </div>

          <!-- Date picker -->
          <div class="sv-field">
            <label for="svDate">Choose Date</label>
            <input id="svDate" name="date" type="date" class="sv-input" />
            <div id="dateError" class="sv-hint">Please select a date</div>
          </div>

          <!-- General submission error -->
          <div id="generalError" class="sv-general-error">Please Fill The Neccessary Requirement</div>

          <!-- Submit -->
          <div class="sv-actions">
            <button id="svSubmit" type="submit" class="btn sv-submit">Submit</button>
          </div>
        </form>
      </div>

      <!-- Success panel (hidden initially) -->
      <div id="svSuccess" class="sv-success" aria-live="polite" style="display:none;">
        <h3>Detailed Submitted Successfully</h3>
        <p>Your information has been send to our expert.</p>
        <p>They will reach you within 24 hours.</p>
        <p><strong>Thanks For Choosing Property Hub</strong></p>
      </div>
    </div>
  </div>

  <!-- DETAILS / AMENITIES / FLOORPLANS (unchanged) -->
  <section class="details">
    <h2>More about NCR Monarch and Crown</h2>
    <p class="lead">
      NCR Monarch and Crown offers well-designed apartments with modern amenities and connectivity. Choose from 2/3/4 BHK configurations with flexible payment options.
    </p>
  </section>

  <section class="amenities">
    <h3>Top Facilities</h3>
    <div class="amenities-grid">
      <div class="amenity">Swimming Pool</div>
      <div class="amenity">Gymnasium</div>
      <div class="amenity">Club House</div>
      <div class="amenity">Children's Play Area</div>
      <div class="amenity">Park</div>
      <div class="amenity">Jogging Track</div>
    </div>
  </section>

  <section class="floorplan-section">
    <h3>Floor Plans & Pricing</h3>
    <div class="plans">
      <div class="plan-card" data-plan="2bhk">
        <img src="https://newprojects.99acres.com/projects/ncr_group/ncr_monarch/maps/ecxq64oh.jpg" alt="2BHK plan">
        <div class="plan-info">
          <strong>2 BHK</strong>
          <p>Area: 950 sq.ft</p>
          <button class="btn small" data-open-floor="2bhk">Open 2BHK 3D</button>
        </div>
      </div>

      <div class="plan-card" data-plan="3bhk">
        <img src="https://projectcdn.99acres.com/project_data/1e5b76/block1_7189/3D/7342_B1_1F6_3D.jpg" alt="3BHK plan">
        <div class="plan-info">
          <strong>3 BHK</strong>
          <p>Area: 1,200 sq.ft</p>
          <button class="btn small" data-open-floor="3bhk">View Plan</button>
        </div>
      </div>
    </div>
  </section>

  </main>

  <!-- ========== FULLSCREEN GALLERY LIGHTBOX ========= (unchanged)-->
  <div id="galleryLightbox" class="lightbox" aria-hidden="true" role="dialog" aria-label="Gallery">
    <button class="lightbox-close" id="lbClose" aria-label="Close gallery">✕</button>

    <div class="lightbox-stage">
      <button class="nav prev" id="lbPrev" aria-label="Previous">‹</button>

      <div class="slide-frame" id="slideFrame" aria-live="polite">
        <!-- JS injects <img>, <video> or <iframe> here -->
      </div>

      <button class="nav next" id="lbNext" aria-label="Next">›</button>
    </div>

    <div class="thumbs" id="thumbsRow" role="list">
      <!-- thumbnails created by JS -->
    </div>
  </div>

  <!-- ========== FLOORPLAN POPUP (Pan/Zoom simple) ========= (unchanged)-->
  <div id="floorModal" class="floor-modal" aria-hidden="true" role="dialog" aria-label="Floor plan">
    <button class="floor-close" id="floorClose">✕</button>
    <div class="floor-wrapper">
      <img id="floorImage" src="https://newprojects.99acres.com/projects/ncr_group/ncr_monarch/maps/ecxq64oh.jpg" alt="Floor plan">
    </div>
    <p class="hint">Use mouse wheel or pinch to zoom. Drag to pan. Press ✕ to close.</p>
  </div>

  <!-- Inline JS for site-visit modal (keeps other script1.js unchanged) -->
  <script>
    (function(){
      // Elements
      const openLink = document.getElementById('openSiteVisit'); // anchor
      const overlay = document.getElementById('siteVisitOverlay');
      const closeBtn = document.getElementById('closeSiteVisit');
      const form = document.getElementById('siteVisitForm');
      const svName = document.getElementById('svName');
      const svPhone = document.getElementById('svPhone');
      const svEmail = document.getElementById('svEmail');
      const svDate = document.getElementById('svDate');

      const nameError = document.getElementById('nameError');
      const phoneError = document.getElementById('phoneError');
      const emailError = document.getElementById('emailError');
      const dateError = document.getElementById('dateError');
      const generalError = document.getElementById('generalError');

      const svSuccess = document.getElementById('svSuccess');
      const siteFormWrap = document.getElementById('siteFormWrap');
      const svSubmit = document.getElementById('svSubmit');

      // initial hide hints
      [nameError, phoneError, emailError, dateError, generalError].forEach(h => h.style.display = 'none');

      // open overlay
      openLink.addEventListener('click', (e) => {
        e.preventDefault();
        overlay.style.display = 'flex';
        overlay.removeAttribute('aria-hidden');
        // reset form + UI
        form.reset();
        resetFieldStyles();
        svSuccess.style.display = 'none';
        siteFormWrap.style.display = 'block';
        // set date min to today
        const today = new Date().toISOString().split('T')[0];
        svDate.setAttribute('min', today);
        svName.focus();
        // add blur to body by toggling class (styles in CSS)
        document.body.classList.add('sv-modal-open');
      });

      // close overlay
      function closeOverlay(){
        overlay.style.display = 'none';
        overlay.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('sv-modal-open');
      }
      closeBtn.addEventListener('click', closeOverlay);
      overlay.addEventListener('click', (e) => {
        if(e.target === overlay) closeOverlay();
      });
      document.addEventListener('keydown', (e) => {
        if(e.key === 'Escape' && overlay.style.display === 'flex') closeOverlay();
      });

      // Helper: reset error styles
      function resetFieldStyles(){
        [svName, svPhone, svEmail, svDate].forEach(inp => {
          inp.classList.remove('sv-invalid');
        });
        [nameError, phoneError, emailError, dateError].forEach(h => h.style.display = 'none');
        generalError.style.display = 'none';
      }

      // Name: only alphabets and spaces allowed
      svName.addEventListener('input', (e) => {
        const original = svName.value;
        // Allow letters, spaces, hyphen and apostrophe
        const filtered = original.replace(/[^A-Za-z\s'-]/g, '');
        if(filtered !== original){
          svName.value = filtered;
          nameError.style.display = 'block';
        } else {
          nameError.style.display = 'none';
        }
        svName.classList.remove('sv-invalid');
      });

      svName.addEventListener('blur', () => {
        if(!svName.value.trim()){
          nameError.style.display = 'block';
          svName.classList.add('sv-invalid');
        } else {
          nameError.style.display = 'none';
          svName.classList.remove('sv-invalid');
        }
      });

      // Phone: only digits allowed, maxlength enforced (10)
      svPhone.addEventListener('keydown', (e) => {
        // allow navigation keys
        const allowedKeys = ['Backspace','ArrowLeft','ArrowRight','Delete','Tab'];
        if(allowedKeys.includes(e.key)) return;
        // allow digits only
        if(!/^[0-9]$/.test(e.key) || svPhone.value.length >= 10){
          e.preventDefault();
          phoneError.style.display = 'block';
        } else {
          phoneError.style.display = 'none';
        }
      });

      svPhone.addEventListener('input', () => {
        const filtered = svPhone.value.replace(/[^0-9]/g, '').slice(0,10);
        if(filtered !== svPhone.value) {
          phoneError.style.display = 'block';
        } else {
          phoneError.style.display = 'none';
        }
        svPhone.value = filtered;
        svPhone.classList.remove('sv-invalid');
      });

      svPhone.addEventListener('blur', () => {
        if(!/^\d{10}$/.test(svPhone.value)){
          phoneError.style.display = 'block';
          svPhone.classList.add('sv-invalid');
        } else {
          phoneError.style.display = 'none';
          svPhone.classList.remove('sv-invalid');
        }
      });

      // Email validation
      function validateEmail(val){
        // simple but robust-ish regex
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;
        return re.test(val);
      }
      svEmail.addEventListener('input', () => {
        if(svEmail.value.trim() === '') {
          emailError.style.display = 'none';
          svEmail.classList.remove('sv-invalid');
          return;
        }
        if(!validateEmail(svEmail.value)){
          emailError.style.display = 'block';
        } else {
          emailError.style.display = 'none';
        }
        svEmail.classList.remove('sv-invalid');
      });
      svEmail.addEventListener('blur', () => {
        if(!validateEmail(svEmail.value)){
          emailError.style.display = 'block';
          svEmail.classList.add('sv-invalid');
        } else {
          emailError.style.display = 'none';
          svEmail.classList.remove('sv-invalid');
        }
      });

      // Date validation (must be selected)
      svDate.addEventListener('input', () => {
        if(!svDate.value){
          dateError.style.display = 'block';
        } else {
          dateError.style.display = 'none';
        }
        svDate.classList.remove('sv-invalid');
      });

      // Submit handler
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        resetFieldStyles();

        let valid = true;

        // Name check
        if(!svName.value.trim()){
          svName.classList.add('sv-invalid');
          nameError.style.display = 'block';
          valid = false;
        }

        // Phone check (10 digits)
        if(!/^\d{10}$/.test(svPhone.value)){
          svPhone.classList.add('sv-invalid');
          phoneError.style.display = 'block';
          valid = false;
        }

        // Email check
        if(!validateEmail(svEmail.value)){
          svEmail.classList.add('sv-invalid');
          emailError.style.display = 'block';
          valid = false;
        }

        // Date check
        if(!svDate.value){
          svDate.classList.add('sv-invalid');
          dateError.style.display = 'block';
          valid = false;
        }

        if(!valid){
          generalError.style.display = 'block';
          return;
        }

        // If valid: show success panel inside the same overlay (as requested),
        // simulate sending and auto close after 10s.
        siteFormWrap.style.display = 'none';
        svSuccess.style.display = 'block';
        generalError.style.display = 'none';

        // (Optional) Here you can send the data to your server via fetch()
        // Example:
        // fetch('/api/visit', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ name: svName.value, phone: svPhone.value, email: svEmail.value, date: svDate.value }) })

        // Auto close success after 10s
        setTimeout(() => {
          closeOverlay();
        }, 10000);
      });

      // Prevent scrolling of the page while modal is open
      const observer = new MutationObserver(() => {
        if(document.body.classList.contains('sv-modal-open')){
          document.body.style.overflow = 'hidden';
        } else {
          document.body.style.overflow = '';
        }
      });
      observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });
    })();
  </script>

  <!-- your existing JS file left untouched -->
  <script src="script1.js" defer></script>

  <!-- ================= YOUR ORIGINAL HTML CONTENT ================= -->
<!-- (Everything remains untouched — I did NOT delete anything) -->

<!-- Add this gallery popup at the END of your HTML (before </body>) -->

<!-- ====== FULL-SCREEN GALLERY POPUP ====== -->
<div id="galleryPopup" class="gallery-popup">
    <span class="gallery-close" onclick="closeGallery()">×</span>

    <div class="gallery-content">
        <span class="gallery-prev" onclick="prevSlide()">&#10094;</span>

        <div id="galleryMain" class="gallery-main"></div>

        <span class="gallery-next" onclick="nextSlide()">&#10095;</span>
    </div>

    <div class="gallery-thumbnails" id="galleryThumbs"></div>
</div>

<script>
/* ================= GALLERY DATA (Your Images + Videos) ================== */

const galleryItems = [
    // 8 IMAGES
    {type: "image", src: "https://newprojects.99acres.com/projects/ncr_group/ncr_monarch/images/i0py09ca_optOrig.jpg"},
    {type: "image", src: "https://newprojects.99acres.com/projects/ncr_group/ncr_monarch/images/kbe288m_1753782796_625251985_optOrig.jpg"},
    {type: "image", src: "https://newprojects.99acres.com/projects/ncr_group/ncr_monarch/images/qydrz2p_1763016577_672109493_optOrig.jpg"},
    {type: "image", src: "https://newprojects.99acres.com/projects/ncr_group/ncr_monarch/images/4ctf7re_1763016578_672109503_optOrig.jpg"},
    {type: "image", src: "https://newprojects.99acres.com/projects/ncr_group/ncr_monarch/images/pypbn4o_1763016579_672109515_optOrig.jpg"},
    {type: "image", src: "httpsprojects.99acres.com/projects/ncr_group/ncr_monarch/images/zombpz6_1753782794_625251957_optOrig.jpg"},
    {type: "image", src: "https://newprojects.99acres.com/projects/ncr_group/ncr_monarch/maps/vowsdxhb.jpg"},
    {type: "image", src: "https://newprojects.99acres.com/projects/ncr_group/ncr_monarch/maps/locartion_mao.jpg"},

    // 3 VIDEOS
    {type: "video", src: "https://www.youtube.com/embed/ExxDEHIwomg"},
    {type: "video", src: "https://www.youtube.com/embed/dFx2ghq8wG0"},
    {type: "video", src: "https://www.youtube.com/embed/UnG-3A7U2NI"}
];

let currentIndex = 0;

/* ================= SHOW GALLERY ================== */
function openGallery(index = 0) {
    currentIndex = index;
    document.getElementById("galleryPopup").style.display = "flex";
    document.body.style.overflow = "hidden";
    loadSlide();
    loadThumbnails();
}

/* ================= CLOSE GALLERY ================== */
function closeGallery() {
    document.getElementById("galleryPopup").style.display = "none";
    document.body.style.overflow = "auto";
}

/* ================= LOAD MAIN SLIDE ================== */
function loadSlide() {
    const item = galleryItems[currentIndex];
    const galleryMain = document.getElementById("galleryMain");

    if (item.type === "image") {
        galleryMain.innerHTML = `<img src="${item.src}" class="gallery-img">`;
    } else {
        galleryMain.innerHTML = `<iframe class="gallery-video" src="${item.src}" allowfullscreen></iframe>`;
    }

    highlightThumbnail();
}

/* ================= NEXT & PREV ================== */
function nextSlide() {
    currentIndex = (currentIndex + 1) % galleryItems.length;
    loadSlide();
}

function prevSlide() {
    currentIndex = (currentIndex - 1 + galleryItems.length) % galleryItems.length;
    loadSlide();
}

/* ================= THUMBNAILS ================== */
function loadThumbnails() {
    const thumbContainer = document.getElementById("galleryThumbs");
    thumbContainer.innerHTML = "";

    galleryItems.forEach((item, index) => {
        let thumb = document.createElement("img");
        thumb.classList.add("thumb");

        thumb.src = item.type === "image"
            ? item.src
            : "https://img.youtube.com/vi/" + item.src.split("/embed/")[1] + "/0.jpg";

        thumb.onclick = () => { currentIndex = index; loadSlide(); };
        thumbContainer.appendChild(thumb);
    });

    highlightThumbnail();
}

function highlightThumbnail() {
    let thumbs = document.querySelectorAll(".thumb");
    thumbs.forEach((t, i) => t.classList.remove("active-thumb"));
    thumbs[currentIndex].classList.add("active-thumb");
}

/* ============= CLOSE ON BACKGROUND CLICK ============= */
document.getElementById("galleryPopup").addEventListener("click", function(e) {
    if (e.target === this) closeGallery();
});

/* ============= CLOSE ON ESC KEY ============= */
document.addEventListener("keydown", function(e) {
    if (e.key === "Escape") closeGallery();
});

/* ============= CONNECT VIEW GALLERY BUTTON ============= */
document.querySelector(".view-gallery-btn").addEventListener("click", function() {
    openGallery(0);
});
</script>


